{"timestamp": "Sat Oct 13 00: 00: 01 -0700 2007", "title": "yes,  elunit 1.0!", "id": 59, "content": "<p>Has it really almost been a week? Well,  it's been a good week for\n  hacks.<\/p>\n\n<p><a href='http: \/\/dev.technomancy.us\/phil\/wiki\/ElUnit'>ElUnit<\/a> is\n  a unit testing framework for Emacs Lisp designed to allow\n  Test-Driven development. I believe it to be pretty much at release\n  quality,  though a few more convenience macros (assert-equal,  for\n  instance) remain to be written. You define suites of tests using\n  the <tt>defsuite<\/tt> macro: <\/p>\n\n    <pre class='code'>\n(defsuite <span class=\"keyword\">my-test-suite<\/span>\n  (two-plus-two\n    <span class=\"string\">\"Test that 2 + 2 = 4\"<\/span>\n    (<span class=\"warning\">assert<\/span> (equal 4 (+ 2 2))))\n\n  (another-test\n    (<span class=\"warning\">assert<\/span> (equal 0 (- 2 2))))\n\n  (bad-math\n    <span class=\"string\">\"This test should fail!\"<\/span>\n    (<span class=\"warning\">assert<\/span> (equal 5 (+ 2 2))))\n\n  (another-test\n    <span class=\"string\">\"duplicate should overwrite original\"<\/span>\n    (<span class=\"warning\">assert<\/span> (equal 3 (length (elunit-suite 'my-test-suite))))))\n\n(add-hook 'my-test-suite-teardown-hook (<span class=\"keyword\">lambda<\/span> () (message <span class=\"string\">\"teardown hook\"<\/span>)))\n<\/pre>\n\n<p><tt>M-x elunit<\/tt> gets you some nicely formatted reports: <\/p>\n\n<pre class='code'>\nLoaded suite:  my-test-suite\n\n.<span style='color:  red;'>F<\/span>.\n\n1) Failure:  bad-math [<u>\/home\/phil\/.emacs.d\/elunit-test.el: 13<\/u>]\n            This test should fail!\n    Result:  (cl-assertion-failed (equal 5 (+ 2 2)))\n\n\n3 tests total,  1 failures in 0 seconds.\n<\/pre>\n\n<p>How many times do I have to tell you that two plus two is four?\n  Anyway,  I'm pretty happy with the results,  especially considering I\n  was able to keep it at about 90 LOC. Give it a shot,  and if you've\n  got anything to say,  pipe up\n  on <a href='http: \/\/dev.technomancy.us\/phil\/wiki\/ElUnit'>the wiki\n  discussion<\/a>.<\/p>\n\n<p><a\n      href='http: \/\/dev.technomancy.us\/phil\/browser\/dotfiles\/.emacs.d\/elunit.el?format=txt'>Grab\n      it<\/a> straight out of my Trac.<\/p>\n"}
